<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>YouTube Watch Guard</title>
  <link rel="stylesheet" href="popup.css">
</head>

<body class="p-4 bg-base-100 text-base-content min-w-72" style="padding:16px;">
  <div class="flex items-center justify-between mb-4 w-full border-b pb-3">
    <h1 class="text-xl font-bold">YouTube Watch Guard</h1>
    <a href="help.html" target="_blank" rel="noopener noreferrer" aria-label="Help"
       class="btn btn-xs btn-ghost text-primary flex items-center justify-center align-middle">
      <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-5 align-middle">
        <path stroke-linecap="round" stroke-linejoin="round" d="M9.879 7.519c1.171-1.025 3.071-1.025 4.242 0 1.172 1.025 1.172 2.687 0 3.712-.203.179-.43.326-.67.442-.745.361-1.45.999-1.45 1.827v.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9 5.25h.008v.008H12v-.008Z" />
      </svg>
    </a>
  </div>

  <!-- Hide unwanted videos section -->
  <div class="mb-4">
    <h2 class="text-base font-bold mb-1">Hide unwanted videos</h2>
    <div class="text-xs font-semibold text-gray-600 mb-1">Exclusion list</div>
    <div id="topic-compact-row" class="flex items-center gap-2 mb-3">
      <span id="topic-compact-list" class="truncate text-xs font-light italic text-gray-500 flex-1">item 1, item 2, item 3, item 4, item 5</span>
      <button id="topic-edit-btn" class="btn btn-xs btn-ghost text-primary flex items-center justify-center align-middle" aria-label="Edit topics">
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-5 align-middle">
          <path stroke-linecap="round" stroke-linejoin="round" d="m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L10.582 16.07a4.5 4.5 0 0 1-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 0 1 1.13-1.897l8.932-8.931Zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0 1 15.75 21H5.25A2.25 2.25 0 0 1 3 18.75V8.25A2.25 2.25 0 0 1 5.25 6H10" />
        </svg>
      </button>
    </div>
    <!-- Topic Management Section (detailed, hidden by default) -->
    <div id="topic-edit-section" class="mb-4" style="display: none;">
      <div class="flex items-center gap-2 mb-2">
        <input type="text" id="topic-input" placeholder="Enter topic to exclude"
          class="input input-bordered input-xs w-full placeholder:text-gray-500 placeholder:text-xs placeholder:italic placeholder:font-light" />
        <button id="add-topic-btn" class="btn btn-primary btn-xs">Add</button>
      </div>
      <div id="error-msg" class="text-error mt-2"></div>
      <ul id="topic-list" class="mt-3 space-y-2"></ul>
      <button id="topic-edit-done-btn" class="btn btn-xs btn-outline mt-2">Done</button>
    </div>
    <!-- When a video matches an excluded topic -->
    <div class="text-xs font-semibold text-gray-600 mb-1">When a video matches an excluded topic:</div>
    <div class="flex gap-4 mb-4">
      <label class="flex items-center gap-1 text-xs font-light text-gray-500 align-middle">
        <input type="radio" name="video-action" id="action-hide" value="hide" class="radio radio-xs align-middle" checked />
        <span class="align-middle">Hide</span>
      </label>
      <label class="flex items-center gap-1 text-xs font-light text-gray-500 align-middle">
        <input type="radio" name="video-action" id="action-delete" value="delete" class="radio radio-xs align-middle" />
        <span class="align-middle">Delete</span>
      </label>
    </div>
    <!-- Filter sensitivity -->
    <div class="text-xs font-semibold text-gray-600 mb-1">Filter sensitivity: <span id="sensitivity-value">30%</span></div>
    <div class="relative w-full">
      <input type="range" id="sensitivity-slider" min="0" max="100" value="30"
        class="range range-xs w-full range-primary opacity-100 align-middle" />
      <div class="flex justify-between text-xs font-light text-gray-500 mt-1 w-full px-1">
        <span>Hide more</span>
        <span>Hide less</span>
      </div>
    </div>
  </div>
  <div class="border-t my-4"></div>

  <div class="mb-4 flex items-center justify-between">
    <h2 class="text-base font-bold mb-1">Hide Shorts from feed</h2>
    <input type="checkbox" id="remove-shorts-section" class="checkbox checkbox-primary checkbox-sm align-middle" />
  </div>
  <div class="border-t my-4"></div>

  <div class="mb-4">
    <h2 class="text-base font-bold mb-1">Mark first 10 videos as not interested</h2>
    <div class="text-xs text-gray-500 mb-2">It will train the YouTube algorithm to not show these recommendations</div>
    <button id="not-interested-btn" class="btn btn-warning btn-xs w-full">Mark now</button>
  </div>

  <script type="module" src="popup.js"></script>
  <template id="topic-list-item-template">
    <li class="flex items-center justify-between px-2 py-1 rounded">
      <span class="topic-label"></span>
      <div class="flex gap-1">
        <button class="btn btn-xs btn-ghost text-primary edit-btn" aria-label="Edit">
          <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-4">
            <path stroke-linecap="round" stroke-linejoin="round" d="m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L10.582 16.07a4.5 4.5 0 0 1-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 0 1 1.13-1.897l8.932-8.931Zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0 1 15.75 21H5.25A2.25 2.25 0 0 1 3 18.75V8.25A2.25 2.25 0 0 1 5.25 6H10" />
          </svg>
        </button>
        <button class="btn btn-xs btn-ghost text-error remove-btn" aria-label="Remove">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" strok-width="1.5" stroke="currentColor" class="size-4">
            <path stroke-linecap="round" stroke-linejoin="round" d="M15 12H9m12 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z" />
          </svg>
        </button>
      </div>
    </li>
  </template>
</body>

</html>